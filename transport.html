<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>YouthBeat</title>
  <meta name="description" content="YouthBeat">
  <meta name="author" content="The Royal Conservatory">

  <!-- <link rel="stylesheet" href="css/styles.css?v=1.0"> -->

  <script src="https://unpkg.com/konva@3.3.3/konva.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/13.0.1/Tone.min.js"></script>
</head>

<body>
  <div id="container"><button onclick="startTransport()">Start Transport</button></div>
  <script type="text/javascript">
		// Tone.Transport.bpm.value = 108;
		// Tone.Transport.loop = true;
		// Tone.Transport.loopStart = "4m";
		// Tone.Transport.loopEnd = "8m"

    var synth = new Tone.Synth().toMaster()
		
		var kick = new Tone.Player({
			url : "Sounds/Rhythm/Kit_1/BDSD_90bpm/01-BDSD.wav",
			loop : true
		}).toMaster().sync().start(0);
		var snare = new Tone.Player({
			url : "Sounds/Rhythm/Kit_1/BDSD_90bpm/11-BDSD.wav",
			loop : true
		}).toMaster().sync().start(0);
		var hh = new Tone.Player({
			url : "Sounds/Rhythm/Kit_1/BDSD_90bpm/21-BDSD.wav",
			loop : true
		}).toMaster().sync().start(0); //start with an offset

Tone.Buffer.on('load', function(){
	console.log("all buffers loaded")
})

function startTransport() {
  // synth.triggerAttackRelease('C4', '8n')
  Tone.context.resume()
  if (Tone.Transport.state != "started") {
    Tone.Transport.start()
    console.log("started transport")
  } else {
    Tone.Transport.stop()
    console.log("stopped transport")
  }
}

  </script>
</body>
</html>